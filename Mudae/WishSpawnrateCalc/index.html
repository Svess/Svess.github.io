<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <title>Wish Spawnrate Calculator</title>
      <link rel="stylesheet" href="../../stylesheets/bootstrap.min.css">
      <link rel="stylesheet" href="../../stylesheets/katex.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
      <link rel="stylesheet" href="../../stylesheets/lightfair.min.css">
      <link rel="stylesheet" href="stylesheets/WishSpawnrateCalc.css">
      <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-157cd5b220a5c80d4ff8e0e70ac069bffd87a61252088146915e8726e5d9f147.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.11/vue.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.5.4/umd/popper.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.3/js/bootstrap.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/highlight.min.js"></script>
      <script src='https://github.com/MikeMcl/bignumber.js/blob/master/bignumber.js'></script>
   </head>
   <body class="d-flex flex-column h-100">
      <header>
         <nav class="navbar navbar-expand-md text-light bg-info">
            <div class="mx-auto">
               <a class="navbar-brand">Wish Spawnrate Calculator</a>
            </div>
         </nav>
      </header>
      <main role="main" class="flex-fill mt-4">
         <div id="app" class="container">
            <div class="card mb-4">
               <div id="calc-form" aria-labelledby="formula-header">
                  <div class="card-body">
                     <form>
                        <value-input id="wishlistSize" label="No. of Charaters Wished in Your Roll Type (Unclaimed)" fa-icon="list" v-model:value.number="wishlistSize" :min-tick="0" :tick-vals="[1, 10]"></value-input>
                        <value-input id="wishBoost" label="Badge Wish Boost %" fa-icon="percent" v-model:value.number="wishBoost" :min-tick="0" :max-tick="150" :tick-vals="[25, 50]"></value-input>
                        <value-input id="firstWishBoost" label="First Wish Boost %" fa-icon="percent" v-model:value.number="firstWishBoost" :min-tick="0" :max-tick="500" :tick-vals="[25, 50]"></value-input>
                        <value-input id="wishProtection" label="Wish Protection Rate (1/X)" fa-icon="star" v-model:value.number="wishProtection" :min-tick="499" :max-tick="10000" :tick-vals="[1, 10, 25, 50]" is-rank></value-input>
                        <value-input id="disabledChars" label="No. of Disabled Characters in Your Roll Type" fa-icon="list" v-model:value.number="disabledChars" :min-tick="0" :max-tick="65059" :tick-vals="[1000, 5000]"></value-input>
                        <value-input id="leftChars" label="No. of Characters Left in Your Roll Type" fa-icon="users" v-model:value.number="leftChars" :min-tick="0" :max-tick="65069" :tick-vals="[1000, 5000]"></value-input>
                        <value-input id="totalChars" label="Total No. of Characters in Your Roll Type" fa-icon="users" v-model:value.number="totalChars" :min-tick="0" :max-tick="65069" :tick-vals="[1000, 5000]"></value-input>
                        <value-input id="PersonalRare" label="Personal Rare Value" fa-icon="users" v-model:value.number="PersonalRare" :min-tick="1" :max-tick="10" :tick-vals="[1]"></value-input>
                     </form>
                     <table class="table table-sm text-center">
                        <thead>
                           <tr>
                              <th scope="col">% Chance of Rolling a Wish</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td>{{Val}} {{Prob}}</td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div>
            </div>
            
            
            <div class="card mb-4">
               <h5 class="card-header">
                  <a data-toggle="collapse" href="#instructions" aria-expanded="true" aria-controls="instructions" id="code-header" class="collapsed d-block">
                  <i class="fa fa-chevron-down float-right"></i>
                  Instructions
                  </a>
               </h5>
               <div id="instructions" class="collapse" aria-labelledby="code-header">
                  <div class="card-body" id="instructions" ref="instructions">
                     To get the number of unclaimed wishes in a roll type use the <span class="rounded">$wltu</span> command<br>
                     To get the bonuses use the <span class="rounded">$bonus</span> command<br>
                     To get the number of disabled characters in a roll type use the <span class="rounded">$dld</span> command<br>
                     To get the number of characthers in a roll type use the <span class="rounded">$bonus</span> command<br>
                     To get the personal rare value use the <span class="rounded">$persr</span> command<br>

                  </div>
               </div>
            </div>
            
            
            <div class="card mb-4">
               <h5 class="card-header">
                  <a data-toggle="collapse" href="#formula-text" aria-expanded="true" aria-controls="formula-text" id="formula-header" class="collapsed d-block">
                  <i class="fa fa-chevron-down float-right"></i>
                  The Formula
                  </a>
               </h5>
               <div id="formula-text" class="collapse" aria-labelledby="formula-header">
                  <div class="card-body" id="nerd-shit" ref="nerdShit">
                     Let <span class="variable">\(wl\)</span> be the number of wishes in your roll type, <span class="variable">\(wb_B\)</span> be badge wish boost, and <span class="variable">\(wb_F\)</span> be the fist wish boost, <span class="variable">\(wp\)</span> be the wish prorection rate, <span class="variable">\(C_D\)</span> be the number of disabled characters in your roll type, <span class="variable">\(C_L\)</span> be the number of unclaimed characters in your roll type, <span class="variable">\(C_T\)</span> be the total number of characters in your roll type, and <span class="variable">\(pr\)</span> be your personal rare value.<br>
                     <div id="formula">
                        \[
                        \begin{aligned}
                        P &= wp + \frac{wl &times (1 + \frac{wb_B}{100}) + \frac{wb_F}{100}}{C_L - C_D + ((1 - \frac{C_L}{C_T})^{pr} )&times C_T}
                        \end{aligned}
                        \]
                     </div>
                  </div>
               </div>
            </div>
            
            
            <div class="card mb-4">
               <h5 class="card-header">
                  <a data-toggle="collapse" href="#code-text" aria-expanded="true" aria-controls="code-text" id="code-header" class="collapsed d-block">
                  <i class="fa fa-chevron-down float-right"></i>
                  The Code
                  </a>
               </h5>
               <div id="code-text" class="collapse" aria-labelledby="code-header">
                  <div class="card-body" id="code-shit" ref="codeShit">
                     This is a simple JavaScript code snippet that just implements the formula shown above.
                     <pre><code class="lang-js">function WishSpawnRate(WLS, WB, FWB, CC, DC, CL, TC, PR, WP) {
  return ((WLS * (1 + WB/100)+FWB/100)/(CC-DC+((1-(CL)/(TC))**PR)*TC)+(1/WP));
}</code></pre>
                     This is a simple Python code snippet that just implements the formula shown above.
                     <pre><code class="lang-py">def WishSpawnRate(WLS, WB, FWB, CC, DC, CL, TC, PR, WP):
  return (WLS * (1 + WB/100)+FWB/100)/(CC-DC+((1-(CL)/(TC))**PR)*TC)+(1/WP)
</code></pre>
                  </div>
               </div>
            </div>
            
         </div>
      </main>
      <footer class="footer mt-auto py-3">
         <div class="container">
            <small class="text-muted">
            <b>DISCLAIMER:</b> Values may be slightly inaccurate, but this is the best approximation we could get.<br>
            <b>DISCLAIMER:</b> Big disable lists and high personal rare (3+) will return invalid resaults<br>
            Value calculations by davidebic, Page setup and managed by Svess.
            </small>
         </div>
         <script src="js/WishSpawnrateCalc.js"></script>
         <script>window.console = window.console || function(t) {};</script>
         <script>if (document.location.search.match(/type=embed/gi)) {window.parent.postMessage("resize", "*");}</script>
      </footer>
   </body>
</html>
